process{
  memory = { 4.GB * task.attempt }
  
  errorStrategy = { task.attempt < 3 ? 'retry' : 'finish' }
  maxRetries = 2
  maxErrors = '-1'

  withLabel: mem_8 {
    memory = { 8.GB * task.attempt }
  }
  withLabel: mem_16 {
    memory = { 16.GB * task.attempt }
  }
  withLabel: mem_24 {
    memory = { 24.GB * task.attempt }
  }
  withLabel: mem_32 {
    memory = { 32.GB * task.attempt }
  }
  withLabel: cpus_2  { cpus = 2 }
  withLabel: cpus_4  { cpus = 4 }
  withLabel: cpus_8  { cpus = 8 }
  withLabel: cpus_12 { cpus = 12 }
}
